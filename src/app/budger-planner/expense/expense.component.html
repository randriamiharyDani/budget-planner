<div class="navbar">
  <h2> EXPENSE </h2>
</div>

<div class="main-container">
  <div class="container">
    <h2>Income</h2>

    <form [formGroup]="expenseForm" (ngSubmit)="onSubmit()" class="input-form">
      <div class="form-group">
        <select formControlName="month" id="month" class="form-control" (change)="onChange($event)">
          <option value="" disabled>Select Month</option>
          <option value="january">January</option>
          <option value="february">Febroary</option>
          <option value="march">March</option>
        </select>
      </div>
      <div class="form-group">
          <div class="total-income">
              total Income For {{selectedMonth}}: ${{calculateTotalIncome(selectedMonth)}}
          </div>
      </div>

      <div class="form-group">
            <label for="investments">investments :</label>
            <select formControlName="investment" id="investments" class="form-control"
            [class.disabled-dropdown]="!monthSelected"  >
              <option value="" disabled >Select Investment</option>
              <option value="401(K)">401(k)</option>
              <option value="stocks">Stocks</option>
              <option value="real_estate">Real Estate</option>
            </select>
      </div>

      <div class="form-group">
          <label for="source">Source :</label>
          <select formControlName="source" id="source" class="form-control"
          [class.disabled-dropdown]="!monthSelected">
              <option value=""disabled >Select Source</option>
              <option value="Salary">Salary</option>
              <option value="freenlincing">Freenlincing</option>
              <option value="rental_income">Rental income</option>
          </select>
      </div>

      <div class="form-group">
          <label for="amount">Amount :</label>
          <input type="number" id="amount" formControlName="amount" class="form-control"
          placeholder="Enter Amount" [class.disabled-dropdown]="!selectedMonth" >
      </div>

      <button type="submit" class="btn btn-primary"
      [class.disabled-dropdown]="!monthSelected">Add</button>
    </form>

    <hr>

    <h3> Income List - {{selectedMonth}} </h3>
    <table class="table">
        <thead>
          <tr>
            <th>Source</th>
            <th>Amount</th>
            <th>Investment</th>
          </tr>
        </thead>
        <tbody>

          <!-- for loop -->

          <tr *ngFor="let expense of getFilteredExpense()">
            <!-- <td>{{selectedMonth}}</td> -->
            <td>{{expense.source}}</td>
            <td>{{expense.amount}}</td>
            <td>{{expense.investment}}</td>

          </tr>
        </tbody>
    </table>
    <div class="input-form">
      <button type="button" class="btn btn-primary" (click)="onReset()">Reset</button>
      <button type="button" class="btn btn-primary" (click)="onExport()">Export</button>
    </div>
  </div>
</div>
